<ul class="nav navbar-nav navbar-right">
    <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
            <span class="caret"></span>
            <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
        </a>
        <ul class="dropdown-menu">
            @{
                var username = @HttpContext.Current.User.Identity.Name;
                bool logged = username.Length != 0;
            }
            @if (logged)
            {
                <li>@username</li>
                <li role="separator" class="divider"></li>
                <li>@Html.ActionLink("My Profile", "Index", "UserProfile")</li>
                <li>@Html.ActionLink("Logout", "Logout", "Account")</li>
            }
            else
            {
                <li>@Html.ActionLink("Login", "Login", "Account")</li>
                <li>@Html.ActionLink("Register", "Register", "Account")</li>
            }
        </ul>
    </li>
</ul>